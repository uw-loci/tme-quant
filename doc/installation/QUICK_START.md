# Quick Start Guide

## Napari Plugin Installation (Recommended)

For the **CurveAlign Napari Plugin** with all GUI features:

### Prerequisites
- Python 3.9+ installed
- FFTW 2.1.5 (optional, for curvelet backend)
- CurveLab 2.1.2 (optional, for curvelet backend)

**Note:** FFTW and CurveLab should be placed in a `utils/` directory parallel to `tme-quant/`:
- `../utils/fftw-2.1.5` (relative to tme-quant directory)
- `../utils/CurveLab-2.1.2` (relative to tme-quant directory)

Alternatively, you can install them in any location and set the `FFTW` and `FDCT` environment variables.

### One-Click Installation

```bash
cd tme-quant
bash bin/install.sh
```

This will:
- ✓ Check prerequisites (Python, FFTW, CurveLab)
- ✓ Create virtual environment
- ✓ Install all dependencies including Curvelops
- ✓ Verify installation
- ✓ Create activation script

Then activate and launch:
```bash
source bin/activate.sh
napari
```

The CurveAlign widget will appear in: **Plugins → napari-curvealign → CurveAlign Widget**

For detailed instructions, see [SETUP_GUIDE.md](SETUP_GUIDE.md)

---

## Base Package Installation (API Only)

For the **Python API only** (without Napari):

```bash
cd tme-quant
make setup
```

This will:
- ✓ Install Conda (if needed)
- ✓ Create Python environment
- ✓ Build FFTW (optional, 10-15 min)
- ✓ Help you configure CurveLab
- ✓ Install tme-quant

Then activate:
```bash
source bin/activate_env.sh
```

## Docker Alternative

If you prefer Docker:
```bash
make docker-build
make docker-run
```

**Note:** Docker Desktop is available for Mac (Intel and Apple Silicon).

## Usage Example

```python
import curvealign_py as curvealign
import numpy as np

# Analyze an image
image = np.random.rand(256, 256)
result = curvealign.analyze_image(image)

print(f"Found {len(result.curvelets)} fiber segments")
print(f"Mean angle: {result.stats['mean_angle']:.1f}°")
```

## Files in bin/ Directory

All setup scripts are organized in `bin/`:

### Napari Plugin Scripts
- `bin/install.sh` - **Main automated installation** (Napari plugin)
- `bin/activate.sh` - Environment activation (generated by install.sh)
- `bin/setup_curvelops_env.sh` - Curvelops environment helper

### Base Package Scripts
- `bin/setup.sh` - Main setup script (base package)
- `bin/activate_env.sh` - Environment activation (base package)

## Makefile Commands

```bash
make setup      # Automated installation
make install    # Install package
make install-all # Install with all features
make test       # Run tests
make docker-build # Build Docker image
make docker-run   # Run Docker container
```

For more details, see:
- [SETUP_GUIDE.md](SETUP_GUIDE.md) - Detailed base package installation guide
